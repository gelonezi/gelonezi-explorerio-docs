# API Overview

> ⚠️ **Warning:** This file was generated by AI and has not been reviewed yet.

ExplorerIO provides a comprehensive REST API that enables developers to integrate with the platform programmatically. This documentation covers the API architecture, authentication, and core concepts.

## API Architecture

The ExplorerIO API follows REST principles and provides:

- **RESTful endpoints** for all major operations
- **JSON** request and response format
- **HTTP status codes** for operation results
- **Pagination** for large result sets
- **Rate limiting** for API protection
- **Versioning** for backward compatibility
- **OpenAPI/Swagger** documentation

### Base URL

```
https://your-explorerio-instance.com/api/v1
```

### API Versioning

ExplorerIO uses URL-based versioning:
- Current version: `v1`
- Future versions: `v2`, `v3`, etc.
- Legacy support maintained for one major version

## Authentication

### Bearer Token Authentication

**Primary authentication method using JWT tokens**:

```bash
# Login to get token
POST /api/v1/auth/login
{
  "username": "user@example.com",
  "password": "password123"
}

# Response
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refresh_token": "dGhpc0lzQVJlZnJlc2hUb2tlbg...",
  "token_type": "Bearer",
  "expires_in": 3600
}

# Use token in subsequent requests
GET /api/v1/data/reports
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### API Key Authentication

**For service-to-service communication**:

```bash
# Create API key
POST /api/v1/admin/api-keys
{
  "name": "data-sync-service",
  "permissions": ["data:read", "data:write"],
  "expires_at": "2024-12-31T23:59:59Z"
}

# Use API key
GET /api/v1/data/reports
X-API-Key: explorerio_ak_1234567890abcdef
```

## Request/Response Format

### Request Headers

**Required headers**:
```
Content-Type: application/json
Authorization: Bearer <token>
Accept: application/json
```

**Optional headers**:
```
X-Request-ID: unique-request-identifier
X-API-Version: v1
User-Agent: YourApp/1.0
```

### Response Format

**Successful response**:
```json
{
  "data": {
    // Response data
  },
  "meta": {
    "timestamp": "2024-01-15T10:30:00Z",
    "request_id": "req_123456789",
    "version": "v1"
  }
}
```

**Error response**:
```json
{
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Invalid request parameters",
    "details": [
      {
        "field": "email",
        "message": "Invalid email format"
      }
    ]
  },
  "meta": {
    "timestamp": "2024-01-15T10:30:00Z",
    "request_id": "req_123456789"
  }
}
```

## HTTP Status Codes

**Success codes**:
- `200 OK` - Request successful
- `201 Created` - Resource created successfully
- `202 Accepted` - Request accepted for processing
- `204 No Content` - Request successful, no content returned

**Client error codes**:
- `400 Bad Request` - Invalid request syntax or parameters
- `401 Unauthorized` - Authentication required or invalid
- `403 Forbidden` - Insufficient permissions
- `404 Not Found` - Resource not found
- `409 Conflict` - Resource conflict (e.g., duplicate)
- `422 Unprocessable Entity` - Validation errors
- `429 Too Many Requests` - Rate limit exceeded

**Server error codes**:
- `500 Internal Server Error` - Unexpected server error
- `502 Bad Gateway` - Upstream service error
- `503 Service Unavailable` - Service temporarily unavailable
- `504 Gateway Timeout` - Upstream service timeout

## Pagination

### Offset-based Pagination

**Request parameters**:
```bash
GET /api/v1/data/reports?limit=20&offset=40
```

**Response format**:
```json
{
  "data": [
    // Array of items
  ],
  "pagination": {
    "limit": 20,
    "offset": 40,
    "total": 150,
    "has_more": true,
    "next_offset": 60,
    "prev_offset": 20
  }
}
```

### Cursor-based Pagination

**For real-time data streams**:
```bash
GET /api/v1/events?limit=20&cursor=eyJpZCI6MTIzNDU2fQ
```

**Response format**:
```json
{
  "data": [
    // Array of items
  ],
  "pagination": {
    "limit": 20,
    "next_cursor": "eyJpZCI6MTIzNDc4fQ",
    "has_more": true
  }
}
```

## Filtering and Sorting

### Query Parameters

**Filtering**:
```bash
# Basic filtering
GET /api/v1/data/reports?category=analytics&status=published

# Date range filtering
GET /api/v1/data/reports?created_after=2024-01-01&created_before=2024-12-31

# Multiple values
GET /api/v1/data/reports?categories=analytics,finance&authors=john,jane
```

**Sorting**:
```bash
# Single field sorting
GET /api/v1/data/reports?sort=created_at:desc

# Multiple field sorting
GET /api/v1/data/reports?sort=priority:desc,created_at:asc
```

**Field selection**:
```bash
# Select specific fields
GET /api/v1/data/reports?fields=id,title,created_at,author
```

## Rate Limiting

### Rate Limit Headers

**Response headers**:
```
X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 999
X-RateLimit-Reset: 1640995200
X-RateLimit-Window: 3600
```

### Rate Limit Policies

**Default limits**:
- **Authenticated users**: 1000 requests/hour
- **API keys**: 5000 requests/hour
- **Anonymous**: 100 requests/hour
- **Search endpoints**: 500 requests/hour

**Rate limit exceeded response**:
```json
{
  "error": {
    "code": "RATE_LIMIT_EXCEEDED",
    "message": "Rate limit exceeded. Try again in 3600 seconds.",
    "retry_after": 3600
  }
}
```

## Data Types and Formats

### Date/Time Format

**ISO 8601 format**:
```json
{
  "created_at": "2024-01-15T10:30:00.000Z",
  "updated_at": "2024-01-15T14:45:30.123Z"
}
```

### Resource Identifiers

**UUID format for all resource IDs**:
```json
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "user_id": "123e4567-e89b-12d3-a456-426614174000"
}
```

### File Uploads

**Multipart form data for file uploads**:
```bash
POST /api/v1/files/upload
Content-Type: multipart/form-data

file: [binary data]
name: "report.pdf"
category: "reports"
```

## Error Handling

### Error Response Structure

```json
{
  "error": {
    "code": "ERROR_CODE",
    "message": "Human-readable error message",
    "details": {
      // Additional error context
    },
    "trace_id": "abc123def456",
    "documentation_url": "https://docs.explorerio.com/api/errors#ERROR_CODE"
  }
}
```

### Common Error Codes

| Code | Description | HTTP Status |
|------|-------------|-------------|
| `INVALID_REQUEST` | Malformed request | 400 |
| `UNAUTHORIZED` | Authentication required | 401 |
| `FORBIDDEN` | Insufficient permissions | 403 |
| `NOT_FOUND` | Resource not found | 404 |
| `CONFLICT` | Resource conflict | 409 |
| `VALIDATION_ERROR` | Request validation failed | 422 |
| `RATE_LIMITED` | Rate limit exceeded | 429 |
| `INTERNAL_ERROR` | Server error | 500 |
| `SERVICE_UNAVAILABLE` | Service temporarily down | 503 |

## API Endpoints Overview

### Authentication Endpoints

```bash
POST   /api/v1/auth/login           # User login
POST   /api/v1/auth/logout          # User logout
POST   /api/v1/auth/refresh         # Refresh token
POST   /api/v1/auth/forgot-password # Password reset request
POST   /api/v1/auth/reset-password  # Password reset confirmation
```

### User Management

```bash
GET    /api/v1/users               # List users
POST   /api/v1/users               # Create user
GET    /api/v1/users/{id}          # Get user details
PUT    /api/v1/users/{id}          # Update user
DELETE /api/v1/users/{id}          # Delete user
GET    /api/v1/users/me            # Get current user profile
PUT    /api/v1/users/me            # Update current user profile
```

### Data Operations

```bash
GET    /api/v1/data/sources        # List data sources
POST   /api/v1/data/sources        # Create data source
GET    /api/v1/data/sources/{id}   # Get data source details
PUT    /api/v1/data/sources/{id}   # Update data source
DELETE /api/v1/data/sources/{id}   # Delete data source
POST   /api/v1/data/sync           # Trigger data synchronization
```

### Search Operations

```bash
GET    /api/v1/search              # Basic search
POST   /api/v1/search/advanced     # Advanced search with filters
GET    /api/v1/search/suggest      # Search suggestions
POST   /api/v1/search/save         # Save search query
GET    /api/v1/search/saved        # List saved searches
```

### Reports and Dashboards

```bash
GET    /api/v1/reports             # List reports
POST   /api/v1/reports             # Create report
GET    /api/v1/reports/{id}        # Get report details
PUT    /api/v1/reports/{id}        # Update report
DELETE /api/v1/reports/{id}        # Delete report
POST   /api/v1/reports/{id}/export # Export report
```

## SDK and Client Libraries

### Official SDKs

**JavaScript/Node.js**:
```bash
npm install @explorerio/client-js
```

**Python**:
```bash
pip install explorerio-client
```

**Java**:
```xml
<dependency>
    <groupId>com.explorerio</groupId>
    <artifactId>explorerio-client</artifactId>
    <version>1.0.0</version>
</dependency>
```

### Usage Examples

**JavaScript**:
```javascript
const ExplorerIO = require('@explorerio/client-js');

const client = new ExplorerIO({
  apiKey: 'your-api-key',
  baseURL: 'https://your-instance.com/api/v1'
});

// Search data
const results = await client.search('analytics reports');

// Get user profile
const user = await client.users.me();
```

**Python**:
```python
from explorerio_client import ExplorerIOClient

client = ExplorerIOClient(
    api_key='your-api-key',
    base_url='https://your-instance.com/api/v1'
)

# Search data
results = client.search('analytics reports')

# Get user profile
user = client.users.me()
```

## Webhooks

### Event Types

ExplorerIO can send webhooks for the following events:
- `data.updated` - Data source updated
- `report.created` - New report created
- `report.updated` - Report modified
- `user.created` - New user registered
- `search.performed` - Search query executed

### Webhook Configuration

```bash
POST /api/v1/webhooks
{
  "url": "https://your-app.com/webhooks/explorerio",
  "events": ["data.updated", "report.created"],
  "secret": "webhook-secret-key",
  "active": true
}
```

### Webhook Payload

```json
{
  "event": "report.created",
  "timestamp": "2024-01-15T10:30:00Z",
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "title": "Monthly Analytics Report",
    "author": "john.doe@company.com",
    "created_at": "2024-01-15T10:30:00Z"
  },
  "signature": "sha256=...",
  "delivery_id": "webhook_123456789"
}
```

## Testing

### Sandbox Environment

**Sandbox API URL**:
```
https://sandbox.explorerio.com/api/v1
```

**Test credentials**:
- Username: `test@example.com`
- Password: `testpassword123`
- API Key: `explorerio_test_key_123456789`

### Postman Collection

Download the official Postman collection:
```bash
curl -o explorerio-api.postman_collection.json \
  https://docs.explorerio.com/downloads/postman-collection.json
```

### API Testing Tools

**Using curl**:
```bash
# Get authentication token
TOKEN=$(curl -s -X POST https://api.explorerio.com/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"user@example.com","password":"password"}' \
  | jq -r '.access_token')

# Make authenticated request
curl -H "Authorization: Bearer $TOKEN" \
  https://api.explorerio.com/v1/users/me
```

## API Monitoring

### Health Check Endpoints

```bash
GET /api/health              # Basic health check
GET /api/health/detailed     # Detailed system status
GET /api/v1/status           # API version status
```

### Metrics and Monitoring

**Key metrics exposed**:
- Request count and latency
- Error rates by endpoint
- Authentication success/failure rates
- Rate limiting statistics

**Prometheus metrics endpoint**:
```bash
GET /metrics
```

## Next Steps

- Explore detailed [API Endpoints](endpoints.md) documentation
- Learn about [Authentication](../features/authentication.md) integration
- Check [Installation Guide](../installation/docker-compose.md) for API setup
