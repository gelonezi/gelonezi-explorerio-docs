# Contributing Guidelines

> ⚠️ **Warning:** This file was generated by AI and has not been reviewed yet.

Welcome to ExplorerIO! We're excited that you're interested in contributing to our project. This document provides guidelines and information for contributors.

## Table of Contents

- [Code of Conduct](#code-of-conduct)
- [Getting Started](#getting-started)
- [Development Setup](#development-setup)
- [Making Contributions](#making-contributions)
- [Pull Request Process](#pull-request-process)
- [Coding Standards](#coding-standards)
- [Testing Guidelines](#testing-guidelines)
- [Documentation](#documentation)
- [Community](#community)

## Code of Conduct

By participating in this project, you agree to abide by our [Code of Conduct](code-of-conduct.md). Please read it before contributing.

## Getting Started

### Prerequisites

Before you begin, ensure you have the following installed:
- Git
- Docker and Docker Compose
- Node.js (v18 or higher)
- Python (v3.9 or higher)
- A code editor (VS Code recommended)

### First Time Setup

1. **Fork the repository** on GitHub
2. **Clone your fork** locally:
   ```bash
   git clone https://github.com/your-username/explorerio.git
   cd explorerio
   ```
3. **Add the upstream repository**:
   ```bash
   git remote add upstream https://github.com/gelonezi/explorerio.git
   ```
4. **Install dependencies**:
   ```bash
   npm install
   pip install -r requirements.txt
   ```

## Development Setup

### Environment Configuration

1. **Copy environment files**:
   ```bash
   cp .env.example .env.development
   ```

2. **Configure your environment** by editing `.env.development`:
   ```bash
   # Database
   DB_HOST=localhost
   DB_PORT=5432
   DB_NAME=explorerio_dev
   DB_USER=explorerio
   DB_PASSWORD=dev_password

   # Development settings
   NODE_ENV=development
   DEBUG=true
   LOG_LEVEL=debug
   ```

### Starting Development Environment

```bash
# Start all services with Docker Compose
docker-compose -f docker-compose.dev.yml up -d

# Run database migrations
npm run migrate

# Seed development data
npm run seed:dev

# Start the development server
npm run dev
```

The application will be available at `http://localhost:3000`.

## Making Contributions

### Types of Contributions

We welcome various types of contributions:

- **Bug fixes** - Fix issues and improve stability
- **Feature development** - Add new functionality
- **Documentation improvements** - Enhance docs and examples
- **Performance optimizations** - Improve speed and efficiency
- **UI/UX improvements** - Enhance user experience
- **Testing** - Add or improve test coverage
- **Translations** - Help localize the application

### Finding Issues to Work On

1. **Check the issue tracker** for open issues
2. **Look for labels**:
   - `good first issue` - Great for newcomers
   - `help wanted` - We need community help
   - `bug` - Bug fixes needed
   - `enhancement` - New features
   - `documentation` - Documentation improvements

3. **Create new issues** if you find bugs or have feature ideas

### Before You Start

1. **Comment on the issue** to let others know you're working on it
2. **Discuss your approach** if it's a significant change
3. **Create a draft pull request** early for feedback on complex features

## Pull Request Process

### 1. Create a Feature Branch

```bash
# Ensure you're on the main branch
git checkout main

# Pull the latest changes
git pull upstream main

# Create a new feature branch
git checkout -b feature/your-feature-name
```

### 2. Make Your Changes

- Write clear, concise commit messages
- Keep commits focused and atomic
- Follow the coding standards outlined below

### 3. Test Your Changes

```bash
# Run the test suite
npm test

# Run linting
npm run lint

# Run type checking (for TypeScript)
npm run type-check

# Test in different environments
npm run test:integration
```

### 4. Update Documentation

- Update relevant documentation files
- Add JSDoc comments for new functions
- Update API documentation if needed
- Add examples for new features

### 5. Commit Your Changes

```bash
git add .
git commit -m "feat: add user authentication middleware

- Implement JWT token validation
- Add rate limiting for auth endpoints
- Include comprehensive error handling
- Add unit tests with 95% coverage

Closes #123"
```

### 6. Push and Create Pull Request

```bash
git push origin feature/your-feature-name
```

Then create a pull request on GitHub with:
- Clear title and description
- Reference to related issues
- Screenshots for UI changes
- Testing instructions

## Coding Standards

### JavaScript/TypeScript

**Style Guide**: We follow the [Airbnb JavaScript Style Guide](https://airbnb.io/javascript/)

**Key Rules**:
- Use TypeScript for new code
- Prefer `const` and `let` over `var`
- Use arrow functions for callbacks
- Use template literals for string interpolation
- Include JSDoc comments for public APIs

**Example**:
```typescript
/**
 * Searches for users matching the given criteria
 * @param criteria - Search criteria object
 * @param options - Additional search options
 * @returns Promise resolving to search results
 */
export async function searchUsers(
  criteria: UserSearchCriteria,
  options: SearchOptions = {}
): Promise<UserSearchResult> {
  const { limit = 20, offset = 0 } = options;
  
  try {
    const results = await userRepository.search(criteria, { limit, offset });
    return {
      users: results.data,
      total: results.count,
      hasMore: results.count > offset + limit
    };
  } catch (error) {
    logger.error('User search failed', { criteria, error });
    throw new SearchError('Failed to search users', error);
  }
}
```

### Python

**Style Guide**: We follow [PEP 8](https://peps.python.org/pep-0008/)

**Key Rules**:
- Use type hints for function signatures
- Include docstrings for all public functions and classes
- Use f-strings for string formatting
- Follow the principle of least privilege

**Example**:
```python
from typing import List, Optional
import logging

logger = logging.getLogger(__name__)

def search_data_sources(
    query: str,
    source_types: Optional[List[str]] = None,
    limit: int = 20
) -> List[DataSource]:
    """
    Search for data sources matching the given query.
    
    Args:
        query: Search query string
        source_types: Optional list of source types to filter by
        limit: Maximum number of results to return
        
    Returns:
        List of matching data sources
        
    Raises:
        SearchError: If the search operation fails
    """
    try:
        filters = {"types": source_types} if source_types else {}
        results = data_source_repository.search(
            query=query,
            filters=filters,
            limit=limit
        )
        
        logger.info(f"Found {len(results)} data sources for query: {query}")
        return results
        
    except Exception as e:
        logger.error(f"Data source search failed: {e}")
        raise SearchError(f"Failed to search data sources: {e}") from e
```

### CSS/SCSS

**Guidelines**:
- Use BEM methodology for class naming
- Prefer flexbox and grid for layouts
- Use CSS custom properties for theming
- Mobile-first responsive design

**Example**:
```scss
.search-component {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-4);
  
  &__input {
    padding: var(--spacing-3);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    font-size: var(--font-size-base);
    
    &:focus {
      outline: 2px solid var(--color-primary);
      outline-offset: 2px;
      border-color: var(--color-primary);
    }
    
    &--error {
      border-color: var(--color-error);
    }
  }
  
  &__results {
    max-height: 300px;
    overflow-y: auto;
    
    @media (min-width: 768px) {
      max-height: 500px;
    }
  }
}
```

## Testing Guidelines

### Test Structure

We use a comprehensive testing strategy:

- **Unit Tests**: Test individual functions and components
- **Integration Tests**: Test component interactions
- **End-to-End Tests**: Test complete user workflows
- **Performance Tests**: Ensure performance requirements are met

### Writing Tests

**JavaScript/TypeScript (Jest)**:
```typescript
import { searchUsers } from '../userService';
import { userRepository } from '../repositories/userRepository';

jest.mock('../repositories/userRepository');

describe('userService', () => {
  describe('searchUsers', () => {
    beforeEach(() => {
      jest.clearAllMocks();
    });

    it('should return user search results', async () => {
      // Arrange
      const mockUsers = [
        { id: '1', name: 'John Doe', email: 'john@example.com' },
        { id: '2', name: 'Jane Smith', email: 'jane@example.com' }
      ];
      
      (userRepository.search as jest.Mock).mockResolvedValue({
        data: mockUsers,
        count: 2
      });

      // Act
      const result = await searchUsers({ name: 'John' });

      // Assert
      expect(result.users).toEqual(mockUsers);
      expect(result.total).toBe(2);
      expect(userRepository.search).toHaveBeenCalledWith(
        { name: 'John' },
        { limit: 20, offset: 0 }
      );
    });

    it('should handle search errors gracefully', async () => {
      // Arrange
      (userRepository.search as jest.Mock).mockRejectedValue(
        new Error('Database error')
      );

      // Act & Assert
      await expect(searchUsers({ name: 'John' })).rejects.toThrow(
        'Failed to search users'
      );
    });
  });
});
```

**Python (pytest)**:
```python
import pytest
from unittest.mock import Mock, patch
from app.services.data_source_service import search_data_sources
from app.exceptions import SearchError

@pytest.fixture
def mock_repository():
    return Mock()

@patch('app.services.data_source_service.data_source_repository')
def test_search_data_sources_success(mock_repo, mock_repository):
    # Arrange
    mock_repo.search.return_value = [
        {'id': '1', 'name': 'Database 1', 'type': 'postgresql'},
        {'id': '2', 'name': 'Database 2', 'type': 'mysql'}
    ]
    
    # Act
    results = search_data_sources('test query')
    
    # Assert
    assert len(results) == 2
    assert results[0]['name'] == 'Database 1'
    mock_repo.search.assert_called_once_with(
        query='test query',
        filters={},
        limit=20
    )

def test_search_data_sources_with_filters():
    with patch('app.services.data_source_service.data_source_repository') as mock_repo:
        mock_repo.search.return_value = []
        
        search_data_sources('query', source_types=['postgresql'], limit=10)
        
        mock_repo.search.assert_called_once_with(
            query='query',
            filters={'types': ['postgresql']},
            limit=10
        )
```

### Test Coverage

- Maintain **minimum 80% code coverage**
- Aim for **90%+ coverage** on critical paths
- Include both positive and negative test cases
- Test error handling and edge cases

### Running Tests

```bash
# Run all tests
npm test

# Run tests with coverage
npm run test:coverage

# Run specific test file
npm test -- user.test.ts

# Run tests in watch mode
npm run test:watch

# Run integration tests
npm run test:integration

# Run E2E tests
npm run test:e2e
```

## Documentation

### Types of Documentation

1. **Code Documentation**: JSDoc/docstring comments
2. **API Documentation**: OpenAPI/Swagger specs
3. **User Documentation**: Guides and tutorials
4. **Developer Documentation**: Architecture and setup guides

### Writing Good Documentation

**Guidelines**:
- Write clear, concise explanations
- Include code examples
- Use proper formatting and structure
- Keep documentation up-to-date with code changes
- Include screenshots for UI features

**Example API Documentation**:
```typescript
/**
 * @openapi
 * /api/users/{id}:
 *   get:
 *     summary: Get user by ID
 *     description: Retrieves a single user by their unique identifier
 *     parameters:
 *       - in: path
 *         name: id
 *         required: true
 *         schema:
 *           type: string
 *           format: uuid
 *         description: User's unique identifier
 *     responses:
 *       200:
 *         description: User retrieved successfully
 *         content:
 *           application/json:
 *             schema:
 *               $ref: '#/components/schemas/User'
 *       404:
 *         description: User not found
 */
```

## Release Process

### Versioning

We follow [Semantic Versioning](https://semver.org/):
- **MAJOR**: Breaking changes
- **MINOR**: New features (backward compatible)
- **PATCH**: Bug fixes (backward compatible)

### Release Checklist

1. Update version numbers
2. Update CHANGELOG.md
3. Run full test suite
4. Create release branch
5. Tag release
6. Deploy to staging
7. Deploy to production
8. Update documentation

## Community

### Getting Help

- **GitHub Issues**: For bugs and feature requests
- **Discussions**: For questions and general discussion
- **Discord**: For real-time chat and support
- **Email**: For private/security concerns

### Recognition

We recognize contributors in several ways:
- Contributors file in the repository
- Release notes mention significant contributions
- Annual contributor appreciation

### Mentorship

New contributors can request mentorship:
- Pair programming sessions
- Code review guidance
- Architecture discussions
- Career advice

## Resources

### Development Tools

- **VS Code Extensions**:
  - ESLint
  - Prettier
  - TypeScript Hero
  - Thunder Client (API testing)

- **Browser Extensions**:
  - React Developer Tools
  - Redux DevTools

### Learning Resources

- [TypeScript Handbook](https://www.typescriptlang.org/docs/)
- [React Documentation](https://reactjs.org/docs/)
- [Node.js Best Practices](https://github.com/goldbergyoni/nodebestpractices)
- [Python Best Practices](https://docs.python-guide.org/)

Thank you for contributing to ExplorerIO! 🚀
